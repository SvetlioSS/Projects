@model BugTrackingSystem.Web.Models.PagingViewModel
@{
    ViewBag.Title = "UpdateBug";
}

<h2>Update bug</h2>

@using (Html.BeginForm("UpdateBug", "Home", FormMethod.Post, new { role = "form" }))
{
    @Html.HiddenFor(pageViewModel => pageViewModel.ViewModels.First().Id)
    @Html.HiddenFor(pageViewModel => pageViewModel.ViewModels.First().AuthorId)
    @Html.HiddenFor(pageViewModel => pageViewModel.BugStartingIndex)
    @Html.HiddenFor(pageViewModel => pageViewModel.ShowDetails)
    @Html.HiddenFor(pageViewModel => pageViewModel.TotalPages)
    @Html.HiddenFor(pageViewModel => pageViewModel.Page)
    <div class="form-group">
        @Html.Label("Name")
        @Html.TextBox("Name", Model.ViewModels.First().Name, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label("Priority")
        @Html.EnumDropDownListFor(bug => bug.ViewModels.First().Priority,
            new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label("Description")
        @Html.TextArea("Description", Model.ViewModels.First().Description, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label("State")
        @Html.EnumDropDownListFor(bug => bug.ViewModels.First().State,
            new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.Label("DateIssued")
        @Html.EditorFor(pageViewModel => pageViewModel.ViewModels.First().DateIssued,
            new
            {
                htmlAttributes = new { @class = "form-control", @readonly = "readonly" }
            })
    </div>
    <div class="form-group">
        @Html.LabelFor(pageViewModel => pageViewModel.ViewModels.First().AuthorName)
        @Html.EditorFor(pageViewModel => pageViewModel.ViewModels.First().AuthorName, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
    </div>
    <input type="submit" value="Update bug" class="btn btn-primary" />
}

